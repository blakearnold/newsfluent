/*! updated; 05-16-2019 10:55 AM **/


Modulr.define("core.pages.articles:config",["require","jquery","cdn"],function(require,$){var config={};return config.cdn=require("cdn"),config});
Modulr.define("core.pages.articles:helper",["require","jquery","modernizr","cdn","core.base:utils/detector","core.base:utils/akamai","core.plugins:ImageLazyLoad"],function(require,$){var Akamai=require("core.base:utils/akamai"),Time=Akamai.time,Geo=Akamai.geo,CDN=(require("modernizr"),require("cdn")),Detector=require("core.base:utils/detector"),Unveil=require("core.plugins:ImageLazyLoad"),Helper=function(){};return Helper.prototype.getCurrentView=Detector.current,Helper.prototype.getCurrentTime=function(){return Time.getCurrent()},Helper.prototype.cssStickySupported=function(){var styling=document.createElement("div").style;return styling.cssText="position:-webkit-sticky;position:-moz-sticky;position:-ms-sticky;position:-o-sticky;position:sticky;",-1!==styling.position.indexOf("sticky")},Helper.prototype.isClassification=function(items){var classification=$('meta[name="classification-isa"]'),content=0<classification.length&&classification.attr("content")||!1;if(content){for(var tags=content.split(","),idx=0;idx<items.length;idx++)if(tags.indexOf(items[idx])<0)return!1;return!0}return!1},Helper.prototype.log=function(){if(window.console){var args=Array.prototype.slice.call(arguments);args.unshift("[FOX.ARTICLES] ");try{return console.log.apply(console,args)}catch(err){console.log(args.join(" | "))}}},Helper.prototype.setLoader=function(items){for(var i=0;i<items.length;i++)trigger(items[i]);function trigger(info){var target=info.target,clear=CDN.domain+"/static/orion/img/clear.gif",className="loader-"+info.module.replace(/[^A-Za-z0-9\-\_]/gi,"").toLowerCase();target.append('<img class="'+className+'" data-src="'+clear+'" src="'+clear+'" style="width: 1px; height: 1px;" />'),Unveil(target.find("img."+className+":first"),50,function(){require([info.module],function(mod){Helper.log("loaded module: "+info.module),"function"==typeof info.callback?info.callback():"object"==typeof mod&&"function"==typeof mod.init&&mod.init()}),$(this).remove()})}},Helper.prototype.execModules=function(modules){for(var i=0;i<modules.length;i++){var module=modules[i];"object"==typeof module&&"function"==typeof module.init?module.init():"function"==typeof module&&module()}},Helper.prototype.getSiteId=function(){return $('meta[name="prism.channel"]').attr("content")||"fnc"},Helper.prototype.isListPage=function(){return"list"===$('meta[name="prism.genre"]').attr("content")},Helper.prototype.execModules=function(modules){for(var i=0;i<modules.length;i++){var module=modules[i];"object"==typeof module&&"function"==typeof module.init&&module.init()}},Helper.prototype.getHeight=function(width){return 9*Math.round(width/16)},Helper.prototype.setModulePaths=function(prefix,arr){for(var i=0;i<arr.length;i++)arr[i]=[prefix,arr[i]].join("/").replace(/\/+/g,"/");return arr},Helper.prototype.isElementInViewport=function(el){var rect=el.get(0).getBoundingClientRect();return 0<=rect.top&&0<=rect.left&&rect.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&rect.right<=(window.innerWidth||document.documentElement.clientWidth)},Helper.prototype.cacheBuster=function(freq){freq=freq||!1;var date=new Date,str=date.getFullYear().toString()+(date.getMonth()+1).toString()+date.getDate().toString(),hr=date.getHours()+1,min=date.getMinutes();return str+=hr.toString()+(freq&&!isNaN(freq)?Math.floor(min/parseFloat(freq)).toString():"")},Helper.prototype.isFoxBusiness=function(){return"fbn"===$('meta[name="prism.channel"]').attr("content")},Helper.prototype.isAEMAuthor=function(){var host=window.location.host;return!!/aem\-(|.+)author/.test(host)},Helper.prototype.geoInfo=function(){return Geo},Helper.prototype.getDomainHost=function(useProtocol,prod){var loc=window.location,host=loc.hostname,protocol=loc.protocol,arr=host.split("."),val=[];return useProtocol&&(val.push(protocol+"//"),!prod)?protocol+"//"+host:(-1<host.indexOf("smallbusiness.")?val.push("smallbusiness."):prod&&val.push("www."),val.join("")+arr[arr.length-2]+"."+arr[arr.length-1])},Helper.prototype.IEVersion=function(version,comparison){var isIE,cc="IE",b=document.createElement("B"),docElem=document.documentElement;return version&&(cc+=" "+version,comparison&&(cc=comparison+" "+cc)),b.innerHTML="\x3c!--[if "+cc+']><b id="iecctest"></b><![endif]--\x3e',docElem.appendChild(b),isIE=!!document.getElementById("iecctest"),docElem.removeChild(b),isIE},Helper.prototype.getArticleBody=function(){var el=$("article div[itemprop='articleBody']");return 0===el.length&&(el=$("article .article-body")),el},new Helper});
Modulr.define("core.pages.articles:main",["require","jquery","helper","sites/router","core.components:auth","ISA"],function(require,$,Helper){var Router=require("sites/router"),Auth=require("core.components:auth");require("ISA").provider("eu").check();Auth.initNew();var MODULES_INIT=["@shared/bigtop.video","@shared/email.the.show","@shared/video.modal","@shared/video.providers","@shared/video.embed","@shared/liveblog","core.base:modules/header","core.base:modules/breaking-news"];return 0<MODULES_INIT.length&&require(MODULES_INIT,function(){var args=Array.prototype.slice.call(arguments);Helper.execModules(args)}),new function(){Router.ready(),this.set=function(callback){Router.ready(callback)}}});
Modulr.define("core.pages.articles:models/data",["require","jquery"],function(require,$){return new function(){this.getData=function(){return"sample data"}}});
Modulr.define("core.pages.articles:shared/modules/bigtop.video",["require","jquery","helper","lodash","core.video:api","core.plugins:OnWindowResize","@shared/viewable.video"],function(require,$,Helper,_,Video){var OnWindowResize=require("core.plugins:OnWindowResize"),featured_vid=$("main article .article-body .featured-video:first"),video_container=featured_vid.find(".video-container"),target=featured_vid.find("div.m"),articleEl=target.closest("article"),view=Helper.getCurrentView();return new function(){var Proto=this,VideoInstance=null,INIT=!0;Proto.init=function(){target.find("a").removeClass("hide"),"mobile"===view?video_container.on("click",function(evt){evt.preventDefault(),Proto.render()}):0<featured_vid.length&&Proto.render()},Proto.render=function(){if(0===target.length)return!1;var caption=featured_vid.find(".caption"),properties={app:{rules:["autoplay","heartbeat","autoAdvance","playername:inpage"]}};"mobile"===view&&_.merge(properties,{player:{autoplay:!0,flash:{vars:{user_controlled_autoplay:!0,auto_play_override:!0}}}}),(VideoInstance=Video.embed(target,properties)).on("amp.advance",function(data){return INIT=!1}),VideoInstance.on("amp.mediachange",function(data){if(data&&!INIT){var title=data.amp&&data.amp.title?data.amp.title:"&nbsp;",link=data.amp&&data.amp.link?data.amp.link:"#",description=data.amp&&data.amp.description?data.amp.description:"&nbsp;";caption.find(".title a").text(title).attr("href",link),caption.find("p").text(description)}}),articleEl.hasClass("is-video")&&articleEl.addClass("has-video"),VideoInstance&&"desktop"===view&&!Helper.isAEMAuthor()&&new(require("@shared/viewable.video"))(VideoInstance).init()},OnWindowResize(function(){view=Helper.getCurrentView()})}});
Modulr.define("core.pages.articles:shared/modules/email.the.show",["require","jquery","lodash","helper"],function(require,$,_,Helper){return new function(holder){var Proto=this,form=holder.find("form"),success=holder.find(".message.success"),error=holder.find(".message.error"),fields={name:{placeholder:"Enter your name",error:"Name Required",entry:""},email:{placeholder:"Enter your email",error:"Your email address is not valid",entry:""},state:{placeholder:"",error:"Your state is not valid",entry:"Select your state"},city:{placeholder:"Enter your City",error:"Your city is not valid",entry:""},address:{placeholder:"Enter your Address",error:"Your address is not valid",entry:""},month:{placeholder:"MM",error:"Please select a month",entry:""},day:{placeholder:"DD",error:"Please select a day",entry:""},year:{placeholder:"YYYY",error:"Please select a year",entry:""},phone:{placeholder:"Enter your phone number",error:"Your phone number is not valid",entry:""}};function getName(el){return el.attr("id")||el.attr("name")}function getType(el){if(0===el.length)return null;var type=el.attr("type")||null;return type||(type=el.get(0).tagName.toLowerCase()),type}function getVal(name){return form.find('input[name="'+name+'"]').val()||form.find('select[name="'+name+'"]').val()||""}function setErrorClass(el,bool){var method=void 0===bool?"addClass":bool?"addClass":"removeClass";"select"===el.get(0).tagName.toLowerCase()&&el.parent()[method]("error"),el[method]("error")}function setError(bool,text){bool?error.addClass("show").find("span").html(text):error.removeClass("show")}Proto.init=function(){0!==holder.length&&(Proto.set(),holder.find(".input-submit").addClass("show"))},Proto.set=function(){form.attr("method"),form.find("input, textarea, select").each(function(){var el=$(this),field_name=getName(el);fields[field_name]&&!fields[field_name].el&&(fields[field_name].el=el),"year"===field_name&&function(el){var start=(new Date).getFullYear()-18,arr=[];el.children("option[value]").remove();for(var val=start;1901<=val;val--)arr.push('<option value="'+val+'">'+val+"</option>");el.append(arr.join(""))}(el)}).on("focus",function(evt){evt.preventDefault(),setErrorClass($(this),!1)}).on("blur",function(evt){evt.preventDefault();var el=$(this),field_name=getName(el),val=(getType(el),el.val()||null);field_name&&fields[field_name]&&((fields[field_name].entry=val)||el.attr("placeholder",fields[field_name].placeholder))}).keypress(function(){var el=$(this);el.attr("id")&&fields[field_name]&&(fields[field_name].entry=el.val())}),form.submit(function(){return Proto.validate(function(){form.find(".submit-wrap").addClass("hide"),setError(!1);var data={name:getVal("name"),email:getVal("email"),state:getVal("state"),city:getVal("city"),address:getVal("address"),address2:getVal("address2"),birthday:[getVal("month"),getVal("day"),getVal("year")].join("-"),phone:getVal("phone"),facebook:getVal("facebook"),twitter:getVal("twitter"),instagram:getVal("instagram"),campaign:form.attr("id")};$.ajax({method:"POST",url:"https://b6baqktpt6.execute-api.us-east-1.amazonaws.com/dev/",data:JSON.stringify(data),contentType:"application/json; charset=UTF-8",beforeSend:function(xhr){xhr.setRequestHeader("X-Api-Key","DvUa8OMi5c25aba46QjnSEyKUQopGUs949bepWz3")}}).done(function(){success.addClass("show"),setError(!1)}).fail(function(xhr,status,err){success.removeClass("show"),setError(!0,"Error: Please try again later"),console.log("post request error:",status,err)})}),!1}),error.find(".close a").on("click",function(evt){evt.preventDefault(),error.removeClass("show")})},Proto.validate=function(callback){var validated=!0,errorList=[],process=function(item){var entry=item.entry||item.el.val()||"",el=item.el,valid=!0;switch(getType(el)){case"select":(valid=function(el){return!!el.val()}(el))||(setErrorClass(item.el),errorList.push(item.error));break;case"textarea":(valid=function(entry){return entry!==entry.placeholder}(entry))||(setErrorClass(item.el),errorList.push(item.error));break;case"tel":var sanitized=function(phone){var pattern=/^(?:\+?1(|\s)[-.●]?)?\(?([0-9]{3})\)?(|\s)[-.●]?([0-9]{3})[-.●]?(|\s)([0-9]{4})$/,res=!1;if(pattern.test(phone)){var match=phone.match(pattern);res=function(){for(var res=[],i=1;i<match.length;i++)/^\d+$/.test(match[i])&&res.push(match[i]);return res.join("")}()}return res}(entry=entry.replace(/\s+/g," "));(valid=!!sanitized)?function(el,val){el.val(val)}(item.el,sanitized):(setErrorClass(item.el),errorList.push(item.error));break;case"email":(valid=!!/^[\w-]+(?:(\.|\+)[\w-]+)*@(?:[\w-]+\.)+[a-zA-Z]{2,7}$/i.test(entry))||(setErrorClass(item.el),errorList.push(item.error));break;case"url":(valid=!!/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/gm.test(entry))||(setErrorClass(item.el),errorList.push(item.error));break;default:(entry=entry.replace(/^\s+|\s+$/,"").replace(/\s+/g," "))?entry!==item.placeholder&&entry!==item.error||(valid=!1,setErrorClass(item.el),errorList.push(item.error)):(valid=!1,item.el.attr("placeholder",fields[field_name].error).addClass("error"),setErrorClass(item.el),errorList.push(item.error))}return valid};for(var field_name in fields)!process(fields[field_name])&&validated&&(validated=!1);validated&&"function"==typeof callback?callback():validated||(success.removeClass("show"),0<errorList.length?setError(!0,errorList.join("</span><br /><span>")):setError(!1))}}($("section.item-form"))});
Modulr.define("core.pages.articles:shared/modules/liveblog",["require","jquery","lodash","helper","core.base:utils/script.loader"],function(require,$,_,Helper){var Loader=require("core.base:utils/script.loader");return new function(){this.init=function(){0!==$(".main-content .livefyre.live-blog").length&&(!window.Livefyre||!window.Livefyre.require)&&Loader("//cdn.livefyre.com/Livefyre.js",function(){window.Livefyre.require(["app-embed#0.8.0"],function(appEmbed){appEmbed.loadAll().done(function(embed){(embed=embed[0]).el.onload&&embed.getConfig&&embed.el.onload(embed.getConfig())})})})}}});
Modulr.define("core.pages.articles:shared/modules/metarow",["require","jquery","lodash","helper","core.plugins:DateTime"],function(require,$,_){var Helper=require("helper"),DateTime=require("core.plugins:DateTime");return new function(){var CONFIG={container_selector:".article-meta-upper time",attribute_name:"data-time-published",attribute_formatted:"timePublished",auto_update:!1,update_interval_in_min:1},components=[],now=Helper.getCurrentTime(),Proto=this;Proto.collector=function(){components.length=0;var elements=$(CONFIG.container_selector+"["+CONFIG.attribute_name+"]");_.forEach(elements,function(item){var attr,element=$(item);if(attr=element.data(CONFIG.attribute_formatted)){var timediff=attr.substr(attr.indexOf("Z-0")+3,1),timeWithoutTZ=new Date(attr.substr(0,attr.length-5)),then=new Date(timeWithoutTZ.getTime()+60*timediff*60*1e3);components.push({element:element,then:then,delta:now-then,diff:{},label:""})}})},Proto.calculator=function(increment){_.forEach(components,function(item){var formattedText="",previousText=item.label;increment&&(item.delta+=increment);var delta=item.delta;if(item.diff={seconds:Math.floor(delta/1e3),mins:Math.floor(delta/6e4),hours:Math.floor(delta/36e5),days:Math.floor(delta/864e5)},6<item.diff.days){formattedText=DateTime(item.then,"${month} ${ddTH}");var yearThen=item.then.getFullYear();yearThen!==now.getFullYear()&&(formattedText+=", "+yearThen),item.label=formattedText}else formattedText=function(label){return[item.diff[label],1<item.diff[label]?label:label.substr(0,label.length-1),"ago"].join(" ")},23<item.diff.hours?item.label=formattedText("days"):59<item.diff.mins?item.label=formattedText("hours"):59<item.diff.seconds?item.label=formattedText("mins"):item.label="just in";var rawTime={alert:!1,item:item,label:item.label};previousText!==item.label&&item.element.html(item.label),item.element.data("rawTimestamp",rawTime),item.element.trigger("evt.rawTimestamp",rawTime)})},Proto.init=function(){Proto.trigger({auto_update:"true"})},Proto.trigger=function(configuration){if(configuration&&(CONFIG=_.merge(CONFIG,configuration)),Proto.collector(),Proto.calculator(),CONFIG.auto_update){var updateInterval=6e4*CONFIG.update_interval_in_min;setInterval(function(){Proto.calculator(updateInterval)},updateInterval)}}}});
Modulr.define("core.pages.articles:shared/modules/multi.featured.image",["require","jquery","helper","core.plugins:OnWindowResize","core.plugins:TouchEventListener"],function(require,$){var OnWindowResize=require("core.plugins:OnWindowResize"),Touch=require("core.plugins:TouchEventListener");return new function(){Proto=this;var scrollingTimer,images={},controls={},captions={},slideWidth=0;Proto.init=function(){return!1},Proto.set=function(holder){var content=$(".featured-image .content");if(!(content.length<1)){var ul=holder.find("ul.slide-container"),items=ul.find("li"),control=holder.find(".ctrl"),info=content.find(".info");images={holder:holder,ul:ul,items:items,size:items.length},controls={main:control,prev:control.find("> .prev"),next:control.find("> .next")},captions={info:info,pager:info.find(".pager"),caption:info.find(".caption")},1===images.size?Proto.setControls(controls.next,!1):Proto.setControls(controls.next,!0),Proto.bindEvents()}},Proto.bindEvents=function(){var swipeDir,left_pos,img_active=images.ul.find(".active"),i=img_active.index();new Touch(images.items).on("swipe",function(a){swipeDir=a.direction[0]}),images.holder.on("touchend",function(){scrollingTimer=setInterval(function(){left_pos===images.ul.position().left?(Proto.swipe(images.holder.scrollLeft(),swipeDir),clearInterval(scrollingTimer)):left_pos=images.ul.position().left},100)}),controls.main.on("click",function(evt){evt.preventDefault();var dir=$(evt.target).hasClass("next")?"next":"prev";img_active=images.ul.find(".active"),i=img_active.index();var text="next"===dir?i+1:i-1;Proto.fadeTextOut(i,dir,function(){Proto.fadeTextIn(text)}),Proto.slide(dir,img_active),"next"===dir?Proto.setControls(controls.prev,!0):Proto.setControls(controls.next,!0)})},Proto.swipe=function(distance,dir){var active_item,item_width=images.ul.width()/images.size,swipe_width=item_width-Math.floor(item_width/2);active_item=distance<swipe_width?0:swipe_width<=distance&&distance<item_width+swipe_width?1:2,images.items.each(function(){$(this).removeClass("active")});var elem=images.ul.find("li:eq("+active_item+")");elem.addClass("active"),images.holder.scrollLeft(elem.position().left),captions.caption.find("p").each(function(){$(this).removeClass("show").addClass("hide")}),captions.caption.find("[data-attr='"+active_item+"']").removeClass("hide").addClass("show"),Proto.setPager(active_item+1)},Proto.fadeTextOut=function(index,dir,callback){var text=captions.caption.find("[data-attr='"+index+"']"),pager=captions.pager,adv_index="next"===dir?index+2:index;0<text.length?(pager.fadeOut("500"),text.fadeOut("500",function(){Proto.setPager(adv_index),"function"==typeof callback&&callback()})):pager.fadeOut("500",function(){Proto.setPager(adv_index),"function"==typeof callback&&callback()})},Proto.fadeTextIn=function(index){var text=captions.caption.find("[data-attr='"+index+"']"),pager=captions.pager;0<text.length&&text.fadeIn("slow"),pager.fadeIn("slow")},Proto.slide=function(type,active){var new_active="next"===type?active.next():active.prev(),new_index=new_active.index();slideWidth="next"===type?slideWidth+active.width():slideWidth-active.width(),images.ul.animate({left:-1*slideWidth},"slow"),active.removeClass("active"),new_active.addClass("active"),0===new_index&&Proto.setControls(controls.prev,!1),new_index+1===images.items.length&&Proto.setControls(controls.next,!1)},Proto.setPager=function(new_i){captions.pager.find("span").text(new_i)},Proto.setControls=function(elm,state){state?elm.removeClass("hide").addClass("show"):elm.addClass("hide").removeClass("show")},Proto.getView=function(){var width=$(window).width();return 1024<=width?"desktop":767<width&&width<1024?"tablet":"mobile"},Proto.setSize=function(){images.items.width($(".featured-image").width()),images.ul.width($(".featured-image").width()*images.size),images.items.each(function(){$(this).width()})},OnWindowResize(function(){Proto.setSize()},500)}});
Modulr.define("core.pages.articles:shared/modules/sample",["require","jquery","helper"],function(require,$,Helper){console.log("example!");return new function(){this.init=function(){console.log("initialization method")}}});
Modulr.define("core.pages.articles:shared/modules/video.embed",["require","jquery","helper","core.video:api","core.plugins:OnWindowResize"],function(require,$,Helper,Video){var OnWindowResize=require("core.plugins:OnWindowResize"),embeds=$("main article .article-body").find(".embed-media.fn-video, .embed-media.fb-video");Helper.getCurrentView();return new function(){var Proto=this,VideoInstance=null,INIT=!0;Proto.init=function(){embeds.each(function(){$(this).on("click",function(evt){evt.preventDefault(),($(this).hasClass("fn-video")||$(this).hasClass("fb-video"))&&Proto.render($(this))})})},Proto.render=function(elem){var target=elem.find("div.m");if(0===target.length)return!1;var caption=embeds.find(".caption");(VideoInstance=Video.embed(target,{player:{autoplay:!0,flash:{vars:{user_controlled_autoplay:!0,auto_play_override:!0}}},app:{rules:["heartbeat","autoAdvance"]}})).on("amp.advance",function(data){return INIT=!1}),VideoInstance.on("amp.mediachange",function(data){if(data&&!INIT){var title=data.amp&&data.amp.title?data.amp.title:"&nbsp;",link=data.amp&&data.amp.link?data.amp.link:"#";caption.find(".title a").text(title).attr("href",link),caption.find("p").text("")}})},OnWindowResize(function(){Helper.getCurrentView()})}});
Modulr.define("core.pages.articles:shared/modules/video.modal",["require","jquery","helper","keymaster"],function(require,$,Helper,key){"mobile"!==Helper.getCurrentView()&&require(["core.components:modal"],function(Modal){var Instance=null;function filter(){return!!/video\.fox(news|business)\.com\/v\/([0-9]+)(\/|$)/.test($.trim($(this).attr("href")||""))}function set(items){0!==(items=items.filter(filter)).length&&items.on("click",function(evt){var el,match,videoId=(el=$(this),(match=(el.attr("href")||"").match(/video\.fox(news|business)\.com\/v\/([0-9]+)(\/|$)/))&&match[2]?match[2]:null),domain=$(this).attr("href").match(/fox(news|business)/);if(key.ctrl||key.command)return window.open($(this).attr("href"),"_blank"),!1;var config={domain:domain[0]?domain[0]:"foxnews",playername:"overlay"};return videoId?(evt.preventDefault(),function(videoId,config){if(!Instance){Instance=Modal.video(null)}Instance.set(videoId,config,function(VideoInstance){})}(videoId,config),!1):void 0})}set($(".collection-clips").find('.content > .article a[href*="video.fox"]')),set($(".collection-radar").find('.content > .article a[href*="video.fox"]')),$(".collection-trending").find(".content .article").each(function(){set($(this).find('.m a[href*="video.fox"], .info a[href*="video.fox"]'))}),set($(".article-content").find('.related.video-ct a[href*="video.fox"]')),set($(".article-content").find('.more-on-this .content .video-ct a[href*="video.fox"]'))})});
Modulr.define("core.pages.articles:shared/modules/video.providers",["require","jquery","helper","core.video:api"],function(require,$,Helper,Video){return new function(){var Proto=this;Proto.init=function(){var target=$(".embed-media");target.length<1||Proto.set(target)},Proto.set=function(elems){elems.each(function(evt){var el=$(this),match=(el.attr("class")||"").match(/vimeo|youtube/);match&&Proto.setProviders(el,match)})},Proto.setProviders=function(elem,prov){var provider=prov[0]?prov[0]:null;Video.provider(provider,elem)}}});
Modulr.define("core.pages.articles:shared/modules/viewable.video",["require","jquery","helper","lodash","core.plugins:OnWindowResize","core.video:api"],function(require,$,Helper,_){var originalView,timeout,long_title,background_ht,scroll,article=Helper.getArticleBody(),vid_container=article.find(".featured-video:first"),vid_holder=article.find("div[data-video-id]:first"),control=vid_container.find(".control"),player_container=$(".fox-video.main-player:first"),scrolled=!1,desk_dim=[612,344],OnWindowResize=require("core.plugins:OnWindowResize"),win=(require("core.video:api").embed.fox,!window.FOX_pagedescriptor||window.FOX_pagedescriptor.cq,$(window));vid_holder.find(".vid-title");if(vid_holder.length<1||"mobile"===Helper.getCurrentView()||Helper.isAEMAuthor())return!1;return function(Instance){var Proto=this,BigtopPlayer=Instance,INITIALIZED=!1,TITLE_CHECK=!1,PLAYER_READY=!1,VIDEO_STATUS={PAUSED:!1,STICKY:!1,CLOSED:!1,HIDDEN:!1};Proto.init=function(){return!INITIALIZED&&(INITIALIZED=!0,originalView=Proto.checkView(),background_ht=Proto.getHeight(),VIDEO_STATUS.PAUSED=!1,VIDEO_STATUS.STICKY=!!vid_holder.hasClass("sticky"),long_title=vid_holder.find(".title p").text(),originalView)},Proto.checkView=function(){return Helper.getCurrentView()?"tablet":"desktop"},Proto.getHeight=function(device){return vid_container.outerHeight()},Proto.reverseAnimate=function(){return vid_container.removeClass("sticky-video sticky-right"),player_container.width(desk_dim[0]).height(desk_dim[1]),TITLE_CHECK&&vid_holder.find(".title p").html(long_title),scrolled=!1},Proto.vidTitleCheck=function(){return vid_holder.find(".title p"),$.strTruncate(long_title,88,!0,"..."),TITLE_CHECK=!0},Proto.setDefaultState=function(){vid_container.attr("class","featured featured-video video-ct"),vid_container.css("height",""),vid_holder.attr("class","m video-player"),VIDEO_STATUS.STICKY=!1},Proto.scrollToPlayer=function(){$("html, body").animate({scrollTop:article.offset().top},500,"swing",function(){VIDEO_STATUS.STICKY=!1,Proto.reverseAnimate()})},Proto.collapsePlayer=function(callback){setTimeout(function(){vid_holder.addClass("slide-out")},400),Proto.setDefaultState(),"function"==typeof callback&&callback()},Proto.closeJanrainModule=function(){var janrain=$("#janrainModal"),modal=$("#janrain-share");if(!janrain.is(":visible"))return!1;modal.find("a.janrain_modal_closebutton").trigger("click")},Proto.closePlayer=function(winSize){var device=winSize||originalView;VIDEO_STATUS.STICKY&&("tablet"===device?Proto.collapsePlayer(function(){setTimeout(function(){vid_holder.addClass("m paused")},500)}):Proto.reverseAnimate()),VIDEO_STATUS.PAUSED=!0,VIDEO_STATUS.CLOSED=!0},Proto.runTransition=function(){VIDEO_STATUS.STICKY=!0,long_title&&TITLE_CHECK||(long_title=vid_holder.find(".title p").text()),"tablet"===Helper.getCurrentView()?(vid_container.addClass("sticky-video"),vid_holder.addClass("fade-in").delay(1e3)):(vid_holder.addClass("fade-out"),vid_container.addClass("sticky-video").delay(250),vid_holder.removeClass("fade-out").addClass("fade-in").delay(300),vid_container.css("height",background_ht),scrolled=!0),162<long_title.length&&Proto.vidTitleCheck()},OnWindowResize(function(){var view=Proto.checkView();return view!==originalView&&(BigtopPlayer.trigger("pause"),Proto.closePlayer(originalView),VIDEO_STATUS.CLOSED=!0,VIDEO_STATUS.PAUSED=!0,originalView=view),originalView});var scrollCond=_.throttle(function(){if(VIDEO_STATUS.HIDDEN||!PLAYER_READY)return!1;if(scroll=win.scrollTop(),Proto.closeJanrainModule(),scroll<=article.offset().top)(scrolled=!1)&&"desktop"===originalView?Proto.reverseAnimate():Proto.setDefaultState(),VIDEO_STATUS.STICKY=!1;else if(scroll>article.offset().top){if(scrolled)return;if(VIDEO_STATUS.PAUSED||(VIDEO_STATUS.CLOSED=!1),VIDEO_STATUS.CLOSED)return!1;VIDEO_STATUS.PAUSED=!!vid_holder.hasClass("paused"),VIDEO_STATUS.STICKY=!VIDEO_STATUS.PAUSED,Proto.runTransition()}VIDEO_STATUS.HIDDEN=!1},200);function play(){return PLAYER_READY=!0,VIDEO_STATUS.PAUSED=!1,vid_holder.removeClass("paused"),scrollCond(!1),VIDEO_STATUS.PAUSED}function pause(){return VIDEO_STATUS.STICKY||vid_holder.addClass("m paused"),VIDEO_STATUS.PAUSED=!0,VIDEO_STATUS.PAUSED}control.on("click","a.top",function(e){e.preventDefault(),Proto.scrollToPlayer()}),control.on("click","a.close",function(e){e.preventDefault(),BigtopPlayer.trigger("pause"),VIDEO_STATUS.STICKY?(clearTimeout(timeout),timeout=setTimeout(function(){Proto.closePlayer()},25)):vid_holder.addClass("m paused"),VIDEO_STATUS.CLOSED=!0}),BigtopPlayer.on("amp.ads.pause",function(){pause()}),BigtopPlayer.on("amp.ads.play",function(){play()}),BigtopPlayer.on("amp.pause",function(){pause()}),BigtopPlayer.on("amp.play",function(){play()}),BigtopPlayer.on("amp.advance",function(){return long_title=vid_holder.find(".title p").text(),TITLE_CHECK=!1}),win.bind("mousewheel DOMMouseScroll wheel touchmove scroll gesturechange",function(event){scrollCond()}),win.on("load",function(){$(window).scrollTop()>article.offset().top&&(VIDEO_STATUS.STICKY=!1,scrollCond())}),$(document).on("load",function(){$(window).scrollTop()>article.offset().top&&(VIDEO_STATUS.STICKY=!1,scrollCond())})}});
Modulr.define("core.pages.articles:sites/fbn/breaking.news",["require","jquery","lodash"],function(require,$,_){return new function(){this.init=function(templatePath){var target=$(".alert:first");if(0===target.length)return!1;!function(target,templatePath){require(["core.base:modules/breaking-news","core.templates:controls/api"],function(BreakingNews,Template){Template.get(templatePath,function(template){BreakingNews.loadBanner(target,{feed:target.hasClass("fn-home")?"//global.fncstatic.com/static/managed/breaking-news/fnc.js":null,template:template,normalize:function(info){return info.title=info.title.toUpperCase(),info.headline=info.headline.toUpperCase(),info.isWatchLive="livecoverage"===info.type.toLowerCase(),info},callback:function(info){target.attr("id",info.id)}})})})}(target,templatePath=templatePath||"/static/orion/scripts/core/templates/app/breaking.news.html")}}});
Modulr.define("core.pages.articles:sites/fbn/init",["require","jquery","helper"],function(require,$,Helper){var MODULE_LIST=["@shared/sample","@fbn/breaking.news"],MODULE_LAZYLOAD_LIST=[];return new function(){var INITIALIZED=!1,CALLBACK_QUEUE=[];Helper.setLoader(MODULE_LAZYLOAD_LIST),require(MODULE_LIST,function(){var args=Array.prototype.slice.call(arguments);Helper.execModules(args),INITIALIZED=!0,function(){for(;0<CALLBACK_QUEUE.length;){var fn=CALLBACK_QUEUE.shift();"function"==typeof fn&&fn()}}()}),this.ready=function(callback){INITIALIZED?callback():CALLBACK_QUEUE.push(callback)}}});
Modulr.define("core.pages.articles:sites/fnc/breaking.news",["require","jquery","lodash"],function(require,$,_){return new function(){this.init=function(templatePath){var target=$(".alert:first");if(0===target.length)return!1;!function(target,templatePath){require(["core.base:modules/breaking-news","core.templates:controls/api"],function(BreakingNews,Template){Template.get(templatePath,function(template){BreakingNews.loadBanner(target,{feed:target.hasClass("fn-home")?"//global.fncstatic.com/static/managed/breaking-news/fnc.js":null,template:template,normalize:function(info){return info.title=info.title.toUpperCase(),info.headline=info.headline.toUpperCase(),info.isWatchLive="livecoverage"===info.type.toLowerCase(),info},callback:function(info){target.attr("id",info.id)}})})})}(target,templatePath=templatePath||"/static/orion/scripts/core/templates/app/breaking.news.html")}}});
Modulr.define("core.pages.articles:sites/fnc/fox-nation",["require","jquery","lodash"],function(require,$,_){return new function(){this.init=function(){$('<div class="item item-free-trial">                <header class="heading">                    <h3 class="title">Join Fox Nation for 99¢</h3>                </header>                <div class="content">                    <p>                        <strong>For a limited time</strong> you can get your first month of Fox Nation for just 99¢. Celebrate the first ever Fox Nation Summit in Scottsdale, AZ. Take advantage of this limited time offer. <strong>Fox Nation is the perfect companion to Fox News.</strong> Access exclusive content you won’t find anywhere else.                    </p>                    <div class="button show">                        <a href="https://nation.foxnews.com/?cmpid=org=NAT::ag=owned::mc=referral::src=FNC_web::cmp=phxsummit::add=fnc_opinion">                            Get First Month for 99¢                        </a>                    </div>                </div>            </div>').insertBefore(".article-body > p:first")}}});
Modulr.define("core.pages.articles:sites/fnc/init",["require","jquery","helper","ISA","core.auth:api"],function(require,$,Helper,ISA,AuthAPI){var EU_ALLOW=!0!==ISA.provider("eu").check(),MODULE_LIST=["@shared/sample","@fnc/social.sharing.buttons","@fnc/parallax.image","@shared/metarow",Helper.cssStickySupported()?"@fnc/sticky-rr-css":"@fnc/sticky-rr-js"];EU_ALLOW&&MODULE_LIST.push("auth0"===AuthAPI.AUTH_TYPE?"@fnc/spot.im.auth0":"@fnc/spot.im.foxid"),Helper.isClassification(["opinion","fox-nation"])&&MODULE_LIST.push("@fnc/fox-nation"),"health"===$('meta[name="prism.section"]').attr("content")&&MODULE_LIST.push("@fnc/inread-move");var MODULE_LAZYLOAD_LIST=[];return new function(){var INITIALIZED=!1,CALLBACK_QUEUE=[];Helper.setLoader(MODULE_LAZYLOAD_LIST),require(MODULE_LIST,function(){var args=Array.prototype.slice.call(arguments);Helper.execModules(args),INITIALIZED=!0,function(){for(;0<CALLBACK_QUEUE.length;){var fn=CALLBACK_QUEUE.shift();"function"==typeof fn&&fn()}}()}),this.ready=function(callback){INITIALIZED?callback():CALLBACK_QUEUE.push(callback)}}});
Modulr.define("core.pages.articles:sites/fnc/inread-move",["require","jquery","lodash"],function(require,$,_){return new function(){this.init=function(){var inread=$('div[data-ad-pos="inread"]'),yieldmo=$(".vendor-yieldmo").last();inread.detach().insertAfter(yieldmo)}}});
Modulr.define("core.pages.articles:sites/fnc/parallax.image",["require","jquery","lodash","helper","core.plugins:OnWindowResize"],function(require,$,_,Helper){return new function(){var articlePage=$(".item-show-top"),OnWindowResize=require("core.plugins:OnWindowResize"),view=Helper.getCurrentView();if(articlePage){var bgImg=articlePage.find(".m.bg > picture > img"),logoImg=articlePage.find(".m.logo > picture > img"),talentImg=articlePage.find(".m.headshot > picture > img");if(bgImg&&logoImg&&talentImg){var setDataScroll=function(view){"desktop"===view?(talentImg.attr("data-scroll-speed","11"),logoImg.attr("data-scroll-speed","7")):"tablet"===view?(talentImg.attr("data-scroll-speed","12"),logoImg.attr("data-scroll-speed","8")):(talentImg.attr("data-scroll-speed","14"),logoImg.attr("data-scroll-speed","10"))};$.fn.moveIt=function(){var $window=$(window),instances=[];$(this).each(function(){instances.push(new moveItItem($(this)))}),window.onscroll=function(){var scrollTop=$window.scrollTop();instances.forEach(function(inst){inst.update(scrollTop)})}};var moveItItem=function(el){this.el=$(el),this.speed=parseInt(this.el.attr("data-scroll-speed"),10)};moveItItem.prototype.update=function(scrollTop){this.el.css("transform","translateY("+-scrollTop/this.speed+"px)")},$(function(){setDataScroll(view),$("[data-scroll-speed]").moveIt()}),OnWindowResize(function(){view=Helper.getCurrentView(),console.log(view),setDataScroll(view)})}}}});
Modulr.define("core.pages.articles:sites/fnc/social.sharing.buttons",["require","jquery","ISA"],function(require,$,ISA){var krux=ISA.provider("krux");return new function(){var loc,res,container=$(".article-social"),url=(loc=window.location,0===(res=($("link[rel=shorturl]").attr("href")||"").replace(/^\s+|\s+$/g,"")).length&&(res=$('meta[property="og:url"]').attr("content")||[loc.protocol+"//",loc.hostname,loc.pathname].join("")),res);function track(type){var meta=ISA.meta();switch(type){case"facebook":ISA.track("fb-share");break;case"twitter":ISA.track("twttr-tweet");break;case"email":ISA.track("email-share-start")}ISA.provider("leapmetrics",function(Provider){Provider.get(function(Leap){Leap.track("share",{page_content_shared:meta.raw.title||$("title").text(),page_share_method:type})})}),krux.callTracking()}this.init=function(){if(0!==container.length){var commenting,email,print,icons=container.find(".social-icons");0!==icons.find(".fb > a").length&&container.find(".fb > a").on("click",function(evt){evt.preventDefault();var _url="//www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(url)+"&hashtag="+encodeURIComponent("#FoxNews"),popup=window.open(_url,"Fox News : Share via Facebook","height=420, width=550");window.focus&&popup.focus(),track("facebook")}),0!==icons.find(".tw > a").length&&container.find(".tw > a").on("click",function(evt){evt.preventDefault();var _url="//twitter.com/intent/tweet?text="+encodeURIComponent($('meta[name="twitter:title"]').attr("content"))+"&url="+encodeURIComponent(url)+"&hashtags=FoxNews",popup=window.open(_url,"Fox News : Share via Twitter","height=420, width=550");window.focus&&popup.focus(),track("twitter")}),0!==(commenting=icons.find(".comments > a")).length&&commenting.on("click",function(evt){evt.preventDefault();var target=$("#commenting");if(0<target.length)try{$("html, body").animate({scrollTop:target.position().top},"slow")}catch(err){console.log(err)}}),0!==(email=icons.find(".email > a")).length&&email.on("click",function(evt){evt.preventDefault(),window.location.href="mailto:?subject="+encodeURIComponent($('meta[property="og:title"]').attr("content").trim()+" | Fox News")+"&body="+encodeURIComponent($('meta[property="og:description"]').attr("content").trim()+" | Fox News")+"%0D%0A%0D%0A"+encodeURIComponent(url),track("email")}),0!==(print=icons.find(".print > a")).length&&print.on("click",function(evt){krux.callTracking()}),function(flipboard){if(0!==flipboard.length){flipboard.find("> a").attr({"data-flip-widget":"shareflip",href:"https://flipboard.com"}),flipboard.find("> a").on("click",function(evt){track("flipboard")});var s=document.createElement("script");s.async=1,s.src="https://cdn.flipboard.com/web/buttons/js/flbuttons.min.js",flipboard.get(0).appendChild(s)}}(icons.find(".flipboard"))}}}});
Modulr.define("core.pages.articles:sites/fnc/spot.im.auth0",["require","jquery","cdn","ISA","core.auth:models/middleware"],function(require,$,cdn,ISA){var Auth0=Modulr.require("core.auth:models/middleware");krux=ISA.provider("krux");return new function(){var val,spotId=-1<window.location.search.indexOf("_spotprod=1")?"sp_ANQXRpqH":"qa"===cdn.env?"sp_7D6dzO0w":"sp_ANQXRpqH",canonicalUrl=$('meta[property="og:url"]').attr("content"),container=$("#commenting"),Proto=this,AUTH0_Props=Auth0.getProps(),AUTH0_Events=Auth0.getEvents(),asked=!1,articleId=($('meta[name="classification-isa"]').attr("content"),-1<(val=$('meta[name="dc.identifier"]').attr("content")).indexOf("base64:")&&(val=val.split("base64:")[1]||null),val);Proto.login=function(){var startSSO=function(){AUTH0_Props&&window.SPOTIM.startSSOForProvider({provider:"auth0",token:AUTH0_Props.token})};window.SPOTIM&&window.SPOTIM.startSSOForProvider?startSSO():document.addEventListener("spot-im-api-ready",startSSO,!1)},Proto.logout=function(){var logout=function(){window.SPOTIM.logout()};window.SPOTIM&&window.SPOTIM.logout?logout():document.addEventListener("spot-im-api-ready",logout,!1)},Proto.commenting=function(){document.addEventListener("spot-im-current-user-sent-message",function(){krux.callTracking()},!1)},Proto.integrateAuth0=function(){AUTH0_Props.authenticated?Proto.login():Proto.logout();var isIE=-1!==navigator.userAgent.indexOf("MSIE")||0<window.navigator.appVersion.indexOf("Trident/");document.addEventListener("spot-im-current-user-typing-start",function(){AUTH0_Props.authenticated||asked||(asked=!0,window.confirm&&!isIE?confirm("You must log in to comment.")&&AUTH0_Events.startLogin():AUTH0_Events.startLogin())},!1),document.addEventListener("spot-im-user-click",function(event){"rich-editor-send-button"!==event.detail.spotImClass||AUTH0_Props.authenticated||AUTH0_Events.startLogin()})},Proto.init=function(){if(Proto.commenting(),articleId&&0<container.length&&canonicalUrl){container.html('<div id="commenting"></div>'),window.SPOTIM_AUTH0_ENABLED=!0;var script=document.createElement("script");script.src=window.location.protocol+"//launcher.spot.im/spot/"+spotId,script.async=!0,script.setAttribute("data-spotim-module","spotim-launcher"),script.setAttribute("data-post-url",canonicalUrl),script.setAttribute("data-post-id",articleId),$("#commenting")[0].appendChild(script);var div=document.createElement("div");div.setAttribute("data-spotim-module","community-promo"),div.setAttribute("data-post-id",articleId),div.setAttribute("data-host-url",canonicalUrl),div.setAttribute("data-spot-id",spotId),$("#commenting")[0].appendChild(div),AUTH0_Props&&AUTH0_Events?Proto.integrateAuth0():Auth0.onLogin(function(props,events){AUTH0_Props=props,AUTH0_Events=events,Proto.integrateAuth0()})}}}});
Modulr.define("core.pages.articles:sites/fnc/spot.im.foxid",["require","jquery","cdn","ISA","helper","core.auth:models/middleware"],function(require,$,cdn,ISA,Helper){var FOXID=Modulr.require("core.auth:models/middleware");return new function(){var spotId="qa"===cdn.env?"sp_7D6dzO0w":"sp_ANQXRpqH",canonicalUrl=$('meta[property="og:url"]').attr("content"),liveFyre_articleId=$('meta[name="livefyreconfig"]').attr("articleId"),articleId=$('meta[name="dc.identifier"]').attr("content"),container=$("#commenting"),Proto=this,FOXID_Props=FOXID.getProps(),FOXID_Events=FOXID.getEvents(),asked=!1;$('meta[name="classification-isa"]').attr("content");Proto.login=function(){var startSSO=function(){FOXID_Props=FOXID.getProps(),console.log("spot.im.foxid:sso",FOXID_Props.token),window.SPOTIM.startSSOForProvider({provider:"foxid",token:FOXID_Props.token})};window.SPOTIM&&window.SPOTIM.startSSOForProvider?startSSO():document.addEventListener("spot-im-api-ready",startSSO,!1)},Proto.logout=function(){var logout=function(){window.SPOTIM.logout()};window.SPOTIM&&window.SPOTIM.logout?logout():document.addEventListener("spot-im-api-ready",logout,!1)},Proto.commenting=function(){document.addEventListener("spot-im-current-user-sent-message",function(event){event.detail,ISA.provider("krux",function(provider){provider.callTracking()}),ISA.provider("leapmetrics",function(Provider){Provider.get(function(Leap){Leap.track("commenting:posted")})})},!1)},Proto.integrateFOXID=function(){FOXID_Props.authenticated?Proto.login():Proto.logout();var isIE=-1!==navigator.userAgent.indexOf("MSIE")||0<window.navigator.appVersion.indexOf("Trident/");document.addEventListener("spot-im-current-user-typing-start",function(){FOXID_Props.authenticated||asked||(asked=!0,window.confirm&&!isIE?confirm("You must log in to comment.")&&FOXID_Events.startLogin():FOXID_Events.startLogin())},!1),document.addEventListener("spot-im-user-click",function(event){"rich-editor-send-button"!==event.detail.spotImClass||FOXID_Props.authenticated||FOXID_Events.startLogin()})},Proto.nationPromo=function(c){var images,img="",timeNow=Helper.getCurrentTime(),date=timeNow.getDate(),protocol=window.location.protocol,prefix=0<=Helper.getDomainHost(!0).indexOf("dev")?"dev-":0<=Helper.getDomainHost(!0).indexOf("stage")?"stage-":"";if(section=$('meta[name="prism.section"]').attr("content"),!(new Date("Sun May 19 2019 23:59:59 GMT-0400 (Eastern Daylight Time)")<timeNow)){images=["nation_promo_2019_99c.jpg","nation_promo_2019_99c_ds.jpg","nation_promo_2019_99c_dwts.jpg"];for(var i=0;i<31;i+=1)i+1===date&&(img=images[i%images.length]);"health"!==section&&$('<div class="commenting-nation-promo"><a target="_blank" href="https://nation.foxnews.com/?cmpid=org=NAT::ag=owned::mc=FNC_display::src=FNC_web::cmp=phxsummit::add=comments"><img src="'+protocol+"//"+prefix+"static.foxnews.com/static/orion/styles/img/fox-news/nation-promo/"+img+'"></a></div>').insertBefore(c)}},Proto.init=function(){if(Proto.commenting(),articleId&&0<container.length&&canonicalUrl){container.html('<div id="commenting"></div>'),window.SPOTIM_AUTH0_ENABLED=!0,Proto.nationPromo(container);var script=document.createElement("script");script.src=window.location.protocol+"//launcher.spot.im/spot/"+spotId,script.async=!0,script.setAttribute("data-spotim-module","spotim-launcher"),script.setAttribute("data-post-url",canonicalUrl),script.setAttribute("data-post-id",articleId),script.setAttribute("data-livefyre-url",liveFyre_articleId),$("#commenting")[0].appendChild(script);var div=document.createElement("div");div.setAttribute("data-spotim-module","community-promo"),div.setAttribute("data-post-id",articleId),div.setAttribute("data-host-url",canonicalUrl),div.setAttribute("data-spot-id","sp_ANQXRpqH"),$("#commenting")[0].appendChild(div),FOXID_Props&&FOXID_Events?Proto.integrateFOXID():FOXID.onLogin(function(props,events){FOXID_Props=props,FOXID_Events=events,Proto.integrateFOXID()})}}}});
Modulr.define("core.pages.articles:sites/fnc/sticky-rr-css",["require","jquery","lodash","helper"],function(require,$,Helper){return new function(){var Proto=this,$win=$(window),$sticky_column=$(".sticky-columns"),$sticky_region=$sticky_column.find(".sticky-region"),$sticky_container=$sticky_region.parent(".sidebar-article"),$article_meta=$(".article-meta-lower"),win_height=$win.height(),scroll=$win.scrollTop(),sticky_region_height=$sticky_region.outerHeight(),sticky_column_height=$sticky_column.outerHeight(!0)+90,top="",need_switch=!1,loaded=!1,scrollEvt=_.throttle(function(){scroll=$win.scrollTop(),loaded&&need_switch?(scroll>sticky_column_height+$article_meta.offset().top-win_height&&$sticky_container.css("top",top),scroll<$article_meta.offset().top&&$sticky_container.css("top",top),need_switch=!1):Proto.normalize()},500),resizeEvt=_.throttle(function(){Proto.normalize(),scrollEvt()},500);document.onreadystatechange=function(){"complete"===document.readyState&&(Proto.normalize(),loaded=!0)},Proto.normalize=function(){if(win_height=$win.height(),sticky_region_height=$sticky_region.outerHeight(),(sticky_column_height=$sticky_column.outerHeight(!0)+90)<=sticky_region_height+100)return!1;(top=win_height<sticky_region_height?win_height-(sticky_region_height+16)+"px":"16px")!==$sticky_container.css("top")&&(need_switch=!0)},Proto.init=function(){var element,property,value;$win.on("scroll",scrollEvt),$win.on("resize",resizeEvt),element=$sticky_container[0],property="position",value="sticky",element.style[property]="-webkit-"+value,element.style[property]="-moz-"+value,element.style[property]="-ms-"+value,element.style[property]="-o-"+value,element.style[property]=value,$sticky_container.css("top","16px"),Proto.normalize(),0<$("#commenting").length&&(document.addEventListener("spot-im-user-click",function(event){"load-more-messages"===event.detail.spotImClass&&resizeEvt()}),document.addEventListener("spot-im-frame-resize",function(){resizeEvt()}))}}});
Modulr.define("core.pages.articles:sites/fnc/sticky-rr-js",["require","jquery","helper"],function(require,$,Helper){return new function(){var Proto=this,$win=$(window),$win_height=$win.height(),$sticky_column=$(".sticky-columns"),$sticky_region=$sticky_column.find(".sticky-region"),$article_meta=$(".article-meta-lower"),scroll=$win.scrollTop(),view=Helper.getCurrentView(),sticky_class="",enabled=!1,ad_rendered=!1,sticky=0,limit=0,fired=!1,calculate=null,scrollEvent=_.throttle(function(){if(!1===enabled||!1===ad_rendered)return!1;$win_height=$win.height(),view=Helper.getCurrentView(),Proto.normalize(),(scroll=$win.scrollTop())<sticky?$sticky_region.removeClass("limit sticky-bottom sticky-top"):sticky<=scroll&&($sticky_region.addClass(sticky_class),$sticky_region.removeClass("limit")),limit<=scroll&&($sticky_region.removeClass("sticky-bottom sticky-top"),$sticky_region.addClass("limit"))},0);document.onreadystatechange=function(){"complete"===document.readyState&&(enabled=!0)},0<$sticky_region.find(".ad-container."+view+" .ad.gpt").length?$sticky_region.find(".ad-container."+view+" .ad.gpt:first").each(function(){0<$(this).length&&$(this).on("googletag.events.SlotRenderEnded",function(){ad_rendered=!0})}):ad_rendered=!0,Proto.normalize=function(){if(!1===ad_rendered)return!1;var sticky_region_height=$sticky_region.height(),sticky_region_height_full=$sticky_region.outerHeight(!0),sticky_region_top=$sticky_region.offset().top,sticky_column_top=$article_meta.offset().top,sticky_column_height=$sticky_column.height()+90;if(sticky_column_height<sticky_region_height_full+100)return enabled=!1,$sticky_region.removeClass("sticky-bottom sticky-top limit"),!1;sticky_class=sticky_region_height_full<$win_height-sticky_region_top?(limit=(sticky=sticky_column_top)+sticky_column_height-sticky_region_height,"sticky-top"):(sticky=sticky_column_top-$win_height+sticky_region_height_full,limit=sticky_column_height+sticky_column_top-$win_height,"sticky-bottom"),enabled=!0},Proto.init=function(){$win.on("scroll resize mousewheel DOMMouseScroll wheel touchmove scroll gesturechange",function(event){fired||(fired=!0,Proto.normalize()),scrollEvent(),clearTimeout(calculate),calculate=setTimeout(function(){fired=!1,Proto.normalize()},100)}),$("body").on("touchmove",function(event){scrollEvent()}),document.addEventListener("spot-im-user-click",function(event){"load-more-messages"===event.detail.spotImClass&&scrollEvent()}),document.addEventListener("spot-im-frame-resize",function(){scrollEvent()})}}});
Modulr.define("core.pages.articles:sites/router",["require","jquery","helper"],function(require,$,Helper){return new function(){var SITE_INIT=["sites",Helper.getSiteId(),"init"].join("/"),INITIALIZED=!1,REQUIRE_REQUESTED=!1,CALLBACK_QUEUE=[];function isFN(){return"function"==typeof callback}this.ready=function(callback){INITIALIZED?isFN()&&callback():isFN()&&CALLBACK_QUEUE.push(callback),REQUIRE_REQUESTED||(REQUIRE_REQUESTED=!0,require([SITE_INIT],function(App){App.ready(function(){!function(){if(0<CALLBACK_QUEUE.length)for(;0<CALLBACK_QUEUE.length;){var callback=CALLBACK_QUEUE.shift();callback()}INITIALIZED=!0}()})}))}}});
!function(Modulr,FNC){var config={instance:"core.pages.articles",baseDomain:FNC.CDN.domain,baseUrl:"/static/orion/scripts/core/pages/articles.new/app",masterFile:"/static/orion/scripts/core/utils/modulr/master.js",paths:{"@shared":"shared/modules","@models":"shared/models","@fnc":"sites/fnc","@fbn":"sites/fbn"},packages:["core.plugins","core.components","core.video","core.base","core.templates","core.auth"],shim:{jquery:{src:"/static/orion/scripts/core/utils/jquery/core.js",exports:"jQuery"},lodash:{src:"/static/orion/scripts/core/utils/lodash.js",exports:"_"},modernizr:{src:"/static/orion/scripts/core/utils/modernizr.js",exports:"Modernizr"},keymaster:{src:"/static/orion/scripts/core/utils/keymaster.js",exports:"key"}}},Instance=Modulr.config(config);Instance.define("cdn",function(){return FNC.CDN}),Instance.define("ISA",function(){return FNC.ISA}),Instance.require(["main"])}(window.Modulr,window.FNC);