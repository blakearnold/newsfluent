!function(a){"use strict";var e=function(a){function e(a,t){return babelHelpers.classCallCheck(this,e),babelHelpers.possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,a,t))}return babelHelpers.inherits(e,a),babelHelpers.createClass(e,[{key:"onready",value:function(a){this.player.addEventListener("adbreakstart",this.onadbreakstart.bind(this)),this.player.addEventListener("admanagerloaded",this.onadmanagerloaded.bind(this))}},{key:"track",value:function(){var a=this.adsManagerVO,e=this.data;null!=initMoatTracking&&null!=a&&null!=e&&initMoatTracking(a.adManager,{partnerCode:e.partnerCode,viewMode:a.viewMode,slicer1:e.slicer1,slicer2:e.slicer2},a.adContainer)}},{key:"onmediachange",value:function(a){this.adsManagerVO=null}},{key:"onadbreakstart",value:function(a){this.track()}},{key:"onadmanagerloaded",value:function(a){this.adsManagerVO=a.detail,this.track()}}]),e}(akamai.amp.Plugin),t=function(a){function e(a,t){babelHelpers.classCallCheck(this,e);var i=babelHelpers.possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,a,t));return null==t.data&&(t.data={partnerCode:i.config.partnerCode,slicer1:i.config.slicer1,slicer2:i.config.slicer2}),i}return babelHelpers.inherits(e,a),babelHelpers.createClass(e,[{key:"createXML",value:function(a){var e=this,t=a.detail.xml,i=t.firstChild,r=t.getElementsByTagName("metrics")[0];null==r&&(r=t.createElement("metrics"),i.appendChild(r));var n=t.createElement("vendor");n.setAttribute("id","moat"),r.appendChild(n);var l=[{value:this.config.partnerCode,key:"partnerCode"},{value:this.config.slicer1,key:"slicer1"},{value:this.config.slicer2,key:"slicer2"}];l.forEach(function(a){null!=a.value&&e.createProperty(t,a.key,a.value,n)})}},{key:"flashPlugins",get:function(){return[{id:"MOATAnalyticsPlugin",src:"#{paths.resources}plugins/MOATAnalyticsPlugin.swf",blocking:!1,host:"akamai",main:"MOATAnalyticsPlugin"}]}}]),e}(akamai.amp.FlashPlugin);akamai.amp.AMP.registerPlugin("moat","html",akamai.amp.Plugin.createFactory(e)),akamai.amp.AMP.registerPlugin("moat","flash",akamai.amp.Plugin.createFactory(t)),a.Moat=e,a.MoatFlash=t}(this.akamai.amp.moat=this.akamai.amp.moat||{});
//# sourceMappingURL=Moat.min.js.map